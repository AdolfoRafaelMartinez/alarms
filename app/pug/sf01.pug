doctype html
html(lang="en")
	head
		meta(charset="utf-8")
		title = WLAN Survey Design - Powered by puddleJump
		link(href="../assets/reportv1.css" rel="stylesheet" type="text/css")
		link(href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet")

	body
		div#container

			// Cover Page
			div.page
				div.header
					div.headertitle
						h1 WLAN
							br
							='SURVEY DESIGN'
					img.clientlogo(src=building.details.client.logo)
				div.content
					div.halfleft
						div.cardtitlefull.blue
							span Project Details
						p.details=building.details.client.name
							br
							=building.details.project
							br
							=building.details.site
					div.halfright
						div.cardtitlefull.green
							span Site Details
						p.details=building.details.address
							br
							=`${building.details.city} ${building.details.state}, ${building.details.zipcode}`
							br
							=building.details.floors
					div.full
						div.cardtitlefull.grey
							span Contacts
						p.contacts
							each contact in building.details.contacts
								=contact.position
								br
								=contact.name
								br
								=`${contact.phone} ${contact.email}`
					div.halfleft
						div.cardtitlefull.black
							span Presented by
						p.details
							=building.details.msp.name
							br
							Designer: =`${building.details.designer.name} - ${building.details.designer.position}`
							br
							=today
				div.footer
					img.msplogo(src=building.details.msp.logo)
					img.pjlogo(src=`${assetsDir}/pbpj.png`)

			// BOM
			div.page
				div.header
					div.headertitle
						h2
							=building.details.project
							br
							=building.details.site
						h3='Bill of Materials'

					img.clientlogo(src=building.details.client.logo)
				div.content
					div.third
						div.cardtitlefull.green
							span APs
						p.aps=`${aps}`
					div.third
						div.cardtitlefull.blue
							span AMs
						p.ams=`${ams}`
					div.smallstack
						div.small
							div.cardtitlefull.grey
								span Mounts
							p.mounts=`${apms}`
						div.small
							div.cardtitlefull.black
								span SFPs
							p.sfps=`${apms}`
					div.full
						div.cardtitlefull.darkblue
							span Controllers

						p.controllers=`${ctrl.country} - ${ctrl.sku}`
							if ctrl.ha
								= '- HA (TWO Controllers)'
						p=ctrl.description

					div.full
						div.cardtitlefull.darkgreen
							span Licenses
						div.licenses

							div=`${apms} LIC-AP`
							if lic.pefng
								div=`${apms} PEFNG`
							if lic.rfp
								div=`${apms} RFP`

					div.full
						div.bom
							table.bom
								tr(valign='top')
									th(width='22%' align='left') Part No.
									th(width='70%' align='left') Description
									th(width='8%' align='center') Qty

								each qty, part in parts
									tr(valign='top')
										td(align='left')=part
										td=part.desc
										td(align='center')=qty

				div.footer
					img.msplogo(src=building.details.msp.logo)
					img.pjlogo(src=`${assetsDir}/pbpj.png`)

			// Floor plan
			each plan in plans
				div.page
					div.header
						div.headertitle
							h2
								=`${building.details.project}`
								br
								=`${building.details.site}`
								br
								=`${building.details.building}`
						img.clientlogo(src=building.details.client.logo)
					div.content
						div.full
							img.floor(src=`../../../public/ss/${plan.print}`)
						div.full
							div.placements
								dl
									each ap, api in plan.stage.items
										if (ap.itemType === 'am')
											div.am
												dt=`${api + 1}:`
												dd=`${ap.inventory.name}`
										if (ap.itemType === 'ap')
											div.ap
												dt=`${api + 1}:`
												dd=`${ap.inventory.name}`
					div.footer
						img.msplogo(src=building.details.msp.logo)
						img.pjlogo(src=`${assetsDir}/pbpj.png`)


			// THANK YOU page
			div.page
				div.tycontent(align='center')
					div.tycard
						p Thank you!
					div
						img(src=building.details.msp.logo)
					div
						img(src=`${assetsDir}/pJlogo.png`)
