doctype html
html(lang="en")
	head
		meta(charset="utf-8")
		title = WLAN Survey Design - Powered by puddleJump
		link(href="../assets/reportv1.css" rel="stylesheet" type="text/css")
		link(href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet")

	body
		div#container

			// Cover Page
			div.page
				div.header
					div.headertitle
						h1 WLAN
							br
							='SURVEY DESIGN'
					img.clientlogo(src=plan.details.client.logo)
				div.content
					div.halfleft
						div.cardtitlefull.blue
							span Project Details
						p.details=plan.details.client.name
							br
							=plan.details.project
							br
							=plan.details.site
					div.halfright
						div.cardtitlefull.green
							span Site Details
						p.details=plan.details.address
							br
							=`${plan.details.city} ${plan.details.state}, ${plan.details.zipcode}`
							br
							=plan.details.floors
					div.full
						div.cardtitlefull.grey
							span Contacts
						p.contacts
							each contact in plan.details.contacts
								=contact.position
								br
								=contact.name
								br
								=`${contact.phone} ${contact.email}`
					div.halfleft
						div.cardtitlefull.black
							span Presented by
						p.details
							=plan.details.msp.name
							br
							Designer: =plan.details.designer.name
								br
							=today
				div.footer
					img.msplogo(src=plan.details.msp.logo)
					img.pjlogo(src=`${assetsDir}/pbpj.png`)

			// BOM
			div.page
				div.header
					div.headertitle
						h2
							=plan.details.project
							br
							=plan.details.site
						h3='Bill of Materials'

					img.clientlogo(src=plan.details.client.logo)
				div.content
					div.third
						div.cardtitlefull.green
							span APs
						p.aps=`${plan.stage.aps.length}`
					div.third
						div.cardtitlefull.blue
							span AMs
						p.ams=`${plan.stage.ams.length}`
					div.smallstack
						div.small
							div.cardtitlefull.grey
								span Mounts
							p.mounts=`${plan.stage.aps.length}`
						div.small
							div.cardtitlefull.black
								span SFPs
							p.sfps=`${plan.stage.aps.length}`
					div.full
						div.cardtitlefull.darkblue
							span Controllers

						each ctrl in plan.details.controllers
							p.controllers=`${ctrl.country} - ${ctrl.model}`
								if ctrl.ha
									- HA
							p=ctrl.description

					div.full
						div.cardtitlefull.darkgreen
							span Licenses
						div.licenses

							each ctrl in plan.details.controllers
								div=`${ctrl.lic.ap.qty} LIC-AP`
								if ctrl.lic.pefng
									div PEFNG
								if ctrl.lic.rfc
									div RFC

					div.full
						div.bom
							table.bom
								tr(valign='top')
									th(width='22%' align='left') Part No.
									th(width='70%' align='left') Description
									th(width='8%' align='center') Qty

								each part in plan.details.parts
									tr(valign='top')
										td(align='left')=part.name
										td=part.desc
										td(align='center')=part.nr

				div.footer
					img.msplogo(src=plan.details.msp.logo)
					img.pjlogo(src=`${assetsDir}/pbpj.png`)

			// Floor plan
			div.page
				div.header
					div.headertitle
						h2
							=`${plan.details.project}`
							br
							=`${plan.details.site}`
							br
							=`${plan.details.building}`
					img.clientlogo(src=plan.details.client.logo)
				div.content
					div.full
						img.floor(src=`../../../public/uploads/${plan.print}`)
					div.full
						div.placements
							dl
								each am, ami in plan.stage.ams
									div.am
										dt=`${ami + 1}:`
										dd=`${am.inventory.name}`
								each ap, api in plan.stage.aps
									div.ap
										dt=`${api + 1}:`
										dd=`${ap.inventory.name}`
				div.footer
					img.msplogo(src=plan.details.msp.logo)
					img.pjlogo(src=`${assetsDir}/pbpj.png`)


			// THANK YOU page
			div.page
				div.tycontent(align='center')
					div.tycard
						p Thank you!
					div
						img(src=plan.details.msp.logo)
					div
						img(src=`${assetsDir}/pJlogo.png`)
