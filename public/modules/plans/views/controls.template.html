<div layout="row">
	<div flex="10">
		<div>Units:</div>
		<md-switch flex ng-model="settings.units" ng-true-value="'m'" ng-hide="calibration_step" ng-false-value="'ft'" ng-change="changeUnits()" aria-label="Units">{{ settings.units }}</md-switch>
		<hr />
		<div class="text-center">
			<button class="btn btn-info" ng-click="startCalibration()" ng-hide="calibration_step">Calibrate</button>
			<span ng-show="calibration_step && !calibration_done">Draw a line that you know the distance for.</span>
			<input type="number" placeholder="distance..." ng-show="calibration_done" ng-model="calibration_distance" aria-label="calibrate">
			<button class="btn btn-xs btn-info" ng-if="calibration_done" ng-click="completeCalibration()">Done</button>
			<button class="btn btn-xs btn-info" ng-if="calibration_step" ng-click="completeCalibration(true)">Cancel</button>
		</div>
	</div>

	<div>
		<div>Signal radius:</div>

		<div ng-show="settings.units == 'ft'">
			<md-slider flex min="{{ UNITS_MIN_FEET }}" max="{{ UNITS_MAX_FEET }}" step="{{ UNITS_STEP_FEET }}" ng-model="settings.signal_radius_feet" aria-label="AP radius" ng-change="updateSignalStrength()" id="signal_radius_feet" class="md-warn"></md-slider>
			<div flex="5" layout layout-align="center center">
				<input type="number" ng-model="settings.signal_radius_feet" ng-change="updateSignalStrength()" aria-label="AP radius" aria-controls="signal_radius_feet">
			</div>
		</div>
		<div ng-show="settings.units == 'm'">
			<md-slider flex min="{{ UNITS_MIN_METERS }}" max="{{ UNITS_MAX_METERS }}" step="{{ UNITS_STEP_METERS }}" ng-model="settings.signal_radius_meters" ng-change="updateSignalStrength()" aria-label="AP radius" id="signal_radius_meters" class="md-warn"></md-slider>
			<div flex="5" layout layout-align="center center">
				<input type="number" ng-model="settings.signal_radius_meters" ng-change="updateSignalStrength()" aria-label="AP radius" aria-controls="signal_radius_meters">
			</div>
		</div>
	</div>

	<div>
		<div>Zoom:</div>
		<md-slider flex min="10%" max="200%" ng-model="settings.scale" ng-change="updateScale()" aria-label="scale" id="scale" class="md-warn"></md-slider>
		<div flex="5" layout layout-align="center center">
			<input type="number" ng-model="settings.scale" ng-change="updateScale()" aria-label="scale" aria-controls="scale"> %
		</div>
	</div>

	<div>
		<div>Show:</div>
		<div flex="10">
			<md-switch flex ng-model="settings.show_distances" ng-change="toggleDistances()" aria-label="Show Distances">Distances</md-switch>
		</div>
		<div flex="10">
			<md-switch flex ng-model="settings.show_overlaps" ng-change="toggleOverlaps()" aria-label="Show Overlaps">Overlaps</md-switch>
		</div>
		<div flex="10">
			<md-switch flex ng-model="settings.show_heatmap" ng-change="toggleHeatmap()" aria-label="Print View">Print View</md-switch>
		</div>
	</div>

	<div class="floors">
		<div ng-repeat="p in plans" ng-class="{'shadowItem': p != plan}" ng-click="showPlan(p)">
			<a href>
				<img ng-src="/ss/{{ p.thumb }}" />
				<small ng-if="p.floor">Floor {{ p.floor }}</small>
				<small ng-if="!p.floor">Floor {{ p.title }}</small>
			</a>
			<div class="topright text-right">
			  <a href ng-click="askDeleteFloorplan(p)"><i class="glyphicon glyphicon-remove"></i></a>
			</div>
		</div>
		<div> <a href ng-click="newPlan()"> <i class="glyphicon glyphicon-plus"></i> <small>Add Floor</small> </a> </div>
	</div>
</div>

<script type="text/ng-template" id="deleteModal.html">
  <div class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" ng-click="close('Cancel')" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h2 class="modal-title">Delete {{ item }}</h2>
        </div>
        <div class="modal-body">
          <p>Are you sure you want to delete this {{ item }}?</p>
        </div>
        <div class="modal-footer">
          <button type="button" ng-click="close()" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="button" ng-click="close('Yes')" class="btn btn-danger" data-dismiss="modal">Yes</button>
        </div>
      </div>
    </div>
  </div>
</script>

<script type="text/ng-template" id="saveModal.html">
  <div class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" ng-click="close('Cancel')" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h2 class="modal-title">Save changes?</h2>
        </div>
        <div class="modal-body">
          <p>Do you want to save the changes you've made to this floorplan?</p>
        </div>
        <div class="modal-footer">
          <button type="button" ng-click="close()" class="btn btn-default" data-dismiss="modal">No</button>
          <button type="button" ng-click="close('Yes')" class="btn btn-danger" data-dismiss="modal">Yes</button>
        </div>
      </div>
    </div>
  </div>
</script>
